--- azpainter-1.0.5/src/etc/CConfig.cpp	2014-03-08 18:39:14.000000000 -0500
+++ azpainter-1.0.5-fixed/src/etc/CConfig.cpp	2015-01-17 23:20:31.839000000 -0500
@@ -272,7 +272,7 @@
     pcf->getArrayVal("newrecdpi", wNewRecentDPI, NEWRECENT_NUM, sizeof(WORD), FALSE);
     pcf->getArrayVal("gridlist", dwGridList, GRIDLIST_NUM, sizeof(DWORD), TRUE);
     pcf->getArrayVal("ruleangle", wRuleAngle, RULEANGLE_NUM, sizeof(WORD));
-    pcf->getArrayVal("rulepos", sRulePos, RULEPOS_NUM, sizeof(short));
+    pcf->getArrayVal("rulepos", sRulePos, RULEPOS_NUM * 2, sizeof(short));
     pcf->getArrayVal("waterpreset", dwWaterPreset, WATERPRESET_NUM, sizeof(DWORD), TRUE);
     pcf->getArrayVal("headtail", wHeadTailList, HEADTAIL_NUM, sizeof(WORD), FALSE);
     pcf->getBase64("drawcursor", &memDrawCursor);
@@ -410,7 +410,7 @@
     pcf->putArrayVal("newrecdpi", wNewRecentDPI, NEWRECENT_NUM, sizeof(WORD));
     pcf->putArrayHex("gridlist", dwGridList, GRIDLIST_NUM);
     pcf->putArrayVal("ruleangle", wRuleAngle, RULEANGLE_NUM, sizeof(WORD));
-    pcf->putArrayVal("rulepos", sRulePos, RULEPOS_NUM, sizeof(short));
+    pcf->putArrayVal("rulepos", sRulePos, RULEPOS_NUM * 2, sizeof(short));
     pcf->putArrayHex("waterpreset", dwWaterPreset, WATERPRESET_NUM);
     pcf->putArrayVal("headtail", wHeadTailList, HEADTAIL_NUM, sizeof(WORD));
     pcf->putBase64("drawcursor", memDrawCursor, memDrawCursor.getSize());
